install.packages("devtools")
library(devtools)
find_rtools()
install.packages("KernSmooth")
library(KernSmooth)
install.packages("sqldf")
install.packages("KernSmooth")
setwd("C:/Users/nicola/BigData/repos/exploratory/w1/ExData_Plotting1")
library (sqldf)
library(datasets)
# read data
sourcefile <- "../household_power_consumption.txt"
DF <- read.csv.sql(sourcefile,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
# png file
png(file="plot1.png", width = 480, height = 480)
hist(DF$Global_active_power, xlab="Global Active Power (kilowatts)", main="Global Active Power", col="red")
#save file
dev.off()
#import
library (sqldf)
library(datasets)
# read data source
datasource <- "../household_power_consumption.txt"
DF <- read.csv.sql(datasource,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
# open png connection
png(file="plot2.png", width = 480, height = 480)
plot(as.POSIXct(paste(DF$Date,DF$Time),format="%d/%m/%Y %H:%M:%S"),DF$Global_active_power, type="o", pch=".", xlab="", ylab="Global Active Power (kilowatts)")
#save png file
dev.off()
#import
library (sqldf)
library(datasets)
# read data source
datasource <- "../household_power_consumption.txt"
data <- read.csv.sql(datasource,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
# open png connection
png(file="plot2.png", width = 480, height = 480)
plot(as.POSIXct(paste(data$Date,DF$Time),format="%d/%m/%Y %H:%M:%S"),data$Global_active_power,
type="o", pch=".", xlab="", ylab="Global Active Power (kilowatts)")
#save png file
dev.off()
Sys.setlocale("LC_ALL","English")
library (sqldf)
library(datasets)
# read data
sourcefile <- "../household_power_consumption.txt"
DF <- read.csv.sql(sourcefile,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
#dates
dates <- as.POSIXct(paste(DF$Date,DF$Time),format="%d/%m/%Y %H:%M:%S")
# png file
png(file="plot3.png", width = 480, height = 480)
plot(dates,DF$Sub_metering_1, type="o", pch=".", xlab="", ylab="Energy sub metering")
lines(dates,DF$Sub_metering_2, type="o", pch=".", col="red")
lines(dates,DF$Sub_metering_3, type="o", pch=".", col="blue")
legend("topright",pch="-", col=c("black", "red", "blue"), legend=c("Sub_metering_1","Sub_metering_2", "Sub_metering_3"))
#save file
dev.off()
Sys.setlocale("LC_ALL","English")
#import
library (sqldf)
library(datasets)
# read data source
datasource <- "../household_power_consumption.txt"
data <- read.csv.sql(datasource,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
# open png connection
png(file="plot2.png", width = 480, height = 480)
plot(as.POSIXct(paste(data$Date,DF$Time),format="%d/%m/%Y %H:%M:%S"),data$Global_active_power,
type="o", pch=".", xlab="", ylab="Global Active Power (kilowatts)")
#save png file
dev.off()
Sys.setlocale("LC_ALL","English")
#import
library (sqldf)
library(datasets)
# read data source
datasource <- "../household_power_consumption.txt"
data <- read.csv.sql(datasource,sep=";",sql="select * from file where Date in ('1/2/2007','2/2/2007')")
# convert dates to DateTime
dates <- as.POSIXct(paste(data$Date,data$Time),format="%d/%m/%Y %H:%M:%S")
# open png connection
png(file="plot4.png", width = 480, height = 480)
# plot parameters
par(mfcol = c(2,2))
# plot gap
plot(dates,data$Global_active_power, type="o", pch=".", xlab="", ylab="Global Active Power (kilowatts)")
# plot esm
plot(dates,data$Sub_metering_1, type="o", pch=".", xlab="", ylab="Energy sub metering")
lines(dates,data$Sub_metering_2, type="o", pch=".", col="red")
lines(dates,data$Sub_metering_3, type="o", pch=".", col="blue")
legend("topright",pch="-", col=c("black", "red", "blue"), legend=c("Sub_metering_1","Sub_metering_2", "Sub_metering_3"))
# plot voltage
plot(dates,data$Voltage, type="o", pch=".", xlab="datetime", ylab="Voltage")
# plot grp
plot(dates,data$Global_reactive_power, type="o", pch=".", xlab="datetime", ylab="Global_reactive_power")
#save png
dev.off()
